; start main program
	ADDSP #22
; Main program
; code pour l'initializaton de la table des methodes
	LOAD #null, R0
	STORE R0, 1(GB)
	LOAD code.Object.equals, R0
	STORE R0, 2(GB)
; Code de la table des méthodes de A
	LEA 1(GB), R0
	STORE R0, 3(GB)
	LOAD code.Object.equals, R0
	STORE R0, 4(GB)
	LOAD code.A.setX, R0
	STORE R0, 5(GB)
	LOAD code.A.init, R0
	STORE R0, 6(GB)
	LOAD code.A.getX, R0
	STORE R0, 7(GB)
; Code de la table des méthodes de B
	LEA 3(GB), R0
	STORE R0, 8(GB)
	LOAD code.Object.equals, R0
	STORE R0, 9(GB)
	LOAD code.A.setX, R0
	STORE R0, 10(GB)
	LOAD code.B.init, R0
	STORE R0, 11(GB)
	LOAD code.A.getX, R0
	STORE R0, 12(GB)
; Code de la table des méthodes de C
	LEA 3(GB), R0
	STORE R0, 13(GB)
	LOAD code.Object.equals, R0
	STORE R0, 14(GB)
	LOAD code.A.setX, R0
	STORE R0, 15(GB)
	LOAD code.C.init, R0
	STORE R0, 16(GB)
	LOAD code.A.getX, R0
	STORE R0, 17(GB)
	HALT
; Initialisation des champs de A
init.A:
	TSTO #2
	BOV pile_pleine
	LOAD -2(LB), R1
	LOAD #0, R0
	STORE R0, 1(R1)
	RTS
code.A.setX:
	TSTO #2	; test de debordement de la pile
	BOV pile_pleine
	PUSH R2
	PUSH R3
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
; ana paramètre o jit l codegeninst dial ientifier hahahahh
	LOAD -3(LB), R2
; je traite un assign dans la selection
; je susi dans identifier coodegenAssign
; bazi dont be u
	STORE R2, 1(R3)
; shit shit
	STORE R2, 1(R3)
fin.A.setX:
; Restauration des registres
	POP R3
	POP R2
	RTS
code.A.getX:
	TSTO #2	; test de debordement de la pile
	BOV pile_pleine
	PUSH R2
	PUSH R3
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
; je suis dans codeGenExpr dans indentifier.java
	LOAD -2(LB), R0
	LOAD 1(R0), R0
	BRA fin.A.getX
fin.A.getX:
; Restauration des registres
	POP R3
	POP R2
	RTS
code.A.init:
	TSTO #2	; test de debordement de la pile
	BOV pile_pleine
	PUSH R2
	PUSH R3
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
	LOAD #0, R2
; je traite un assign dans la selection
; je susi dans identifier coodegenAssign
; bazi dont be u
	STORE R2, 1(R3)
; shit shit
	STORE R2, 1(R3)
fin.A.init:
; Restauration des registres
	POP R3
	POP R2
	RTS
; Initialisation des champs de B
init.B:
	TSTO #2
	BOV pile_pleine
	LOAD -2(LB), R1
	LOAD #0, R0
	STORE R0, 2(R1)
; Appel de l'initialisation des champs hérités de A
	PUSH R1
	BSR init.A
	SUBSP #1
	RTS
code.B.init:
	TSTO #2	; test de debordement de la pile
	BOV pile_pleine
	PUSH R2
	PUSH R3
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
; appel à la méthode setX
	ADDSP #2
	STORE R3, 0(SP)
	LOAD #0, R3
	STORE R3, -1(SP)
	LOAD 0(SP), R3
	CMP #null, R3
	BEQ deferencement.null
	LOAD 0(R3), R3
	BSR code.B.setX
	SUBSP #2
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
	LOAD #0, R2
; je traite un assign dans la selection
; je susi dans identifier coodegenAssign
; bazi dont be u
	STORE R2, 2(R3)
; shit shit
	STORE R2, 2(R3)
fin.B.init:
; Restauration des registres
	POP R3
	POP R2
	RTS
; Initialisation des champs de C
init.C:
	TSTO #2
	BOV pile_pleine
	LOAD -2(LB), R1
	LOAD #0, R0
	STORE R0, 2(R1)
; Appel de l'initialisation des champs hérités de A
	PUSH R1
	BSR init.A
	SUBSP #1
	RTS
code.C.init:
	TSTO #2	; test de debordement de la pile
	BOV pile_pleine
	PUSH R2
	PUSH R3
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
; appel à la méthode setX
	ADDSP #2
	STORE R3, 0(SP)
	LOAD #0, R3
	STORE R3, -1(SP)
	LOAD 0(SP), R3
	CMP #null, R3
	BEQ deferencement.null
	LOAD 0(R3), R3
	BSR code.C.setX
	SUBSP #2
; ana jit les méthodes 
	LOAD -2(LB), R2
	LOAD -2(LB), R3
	LOAD #1, R2
; je traite un assign dans la selection
; je susi dans identifier coodegenAssign
; bazi dont be u
	STORE R2, 2(R3)
; shit shit
	STORE R2, 2(R3)
fin.C.init:
; Restauration des registres
	POP R3
	POP R2
	RTS
code.Object.equals:
	PUSH R2
	PUSH R3
	LOAD -2(LB), R2
	LOAD -3(LB), R3
	CMP R3, R2
	BEQ code.Object.equals.loadTrueEQ
	LOAD #0, R0
	BRA code.Object.equals.finComparationEQ
code.Object.equals.loadTrueEQ:
	LOAD #1, R0
code.Object.equals.finComparationEQ:
	POP R3
	POP R2
	RTS
pile_pleine:
	WSTR "Error: pile pleine"
	WNL
	ERROR
Overflow_error:
	WSTR "Error: Overflow during arithmetic operation"
	WNL
	ERROR
division_zero:
	WSTR "Error: Division by zero"
	WNL
	ERROR
io_error:
	WSTR "Error: Input/Output error"
	WNL
	ERROR
print_Error:
	WSTR "Error: print float only in hexa form"
	WNL
	ERROR
deferencement.null:
	WSTR "Erreur : dereferencement de null"
	WNL
	ERROR
; end main program
